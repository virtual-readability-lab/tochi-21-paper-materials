<!DOCTYPE html>
<html lang="html">
    <head>
        <meta charset="utf-8">
        <!--<link rel="shortcut icon" href="favicon.ico">-->
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="theme-color" content="#000000">

        <!-- Import Roboto, Lato, Open Sans, Monsterrat, Noto Sans  -->
        <link href="https://fonts.googleapis.com/css?family=Lato|Montserrat|Noto+Sans|Open+Sans|Roboto&display=swap" rel="stylesheet">

        <!-- Adobe Fonts: Avant Garde -->
        <link rel="stylesheet" href="https://use.typekit.net/oly8jmk.css">

        <!-- Other CSS -->
        <link rel="stylesheet" href="style/bulma-0.7.5/css/bulma.min.css"></link>
        <link rel="stylesheet" href="style/readability_normalized.css"></link>
        <link rel="stylesheet" href="style/font_choices_normalized.css"></link>
        
        <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/ua-parser-js@0.7.20/src/ua-parser.min.js"></script>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    </head>

    <body>
        <div class="main">
            <div class="preference">
                <p id="prompt" class="prompt">What font would you prefer to read in?</p>
               <p id='reading' class="reading arial">
                    Home at Mount Vernon the candles in the windows of George Washington’s home at Mount Vernon shone brightly on Christmas Eve. This Christmas Eve, though, was different. One month earlier the United States and Great Britain had signed a peace treaty ending the Revolutionary War. It was Christmastime when George Washington returned to his home. He was no longer the commander of the Continental Army. Soon after, at a dinner in New York, General Washington
                </p>
                <div class="select is-large" style="margin-bottom:1em; width: 480px">
                    <select id="current_font" onchange="dropDownChange(this)" style="width: 480px">
                        <option value="arial">Arial</option>
                        <option value="arial_x">Arial (x-height)</option>
                        <option value="arial_w">Arial (width)</option>
                        <option value="arial_h">Arial (height)</option>
                        <option value="avantgarde">Avant Garde</option>
                        <option value="avantgarde_x">Avant Garde (x-height)</option>
                        <option value="avantgarde_w">Avant Garde (width)</option>
                        <option value="avantgarde_h">Avant Garde (height)</option>
                        <option value="system">System Font</option>
                        <option value="system_x">System Font (x-height)</option>
                        <option value="system_w">System Font (width)</option>
                        <option value="system_h">System Font (height)</option>
                        <option value="calibri">Calibri</option>
                        <option value="calibri_x">Calibri (x-height)</option>
                        <option value="calibri_w">Calibri (width)</option>
                        <option value="calibri_h">Calibri (height)</option>
                        <option value="comic_sans">Comic Sans</option>
                        <option value="comic_sans_x">Comic Sans (x-height)</option>
                        <option value="comic_sans_w">Comic Sans (width)</option>
                        <option value="comic_sans_h">Comic Sans (height)</option>
                        <option value="franklin_gothic">Franklin Gothic</option>
                        <option value="franklin_gothic_x">Franklin Gothic (x-height)</option>
                        <option value="franklin_gothic_w">Franklin Gothic (width)</option>
                        <option value="franklin_gothic_h">Franklin Gothic (height)</option>
                        <option value="garamond">Garamond</option>
                        <option value="garamond_x">Garamond (x-height)</option>
                        <option value="garamond_w">Garamond (width)</option>
                        <option value="garamond_h">Garamond (height)</option>
                        <option value="georgia">Georgia</option>
                        <option value="georgia_x">Georgia (x-height)</option>
                        <option value="georgia_w">Georgia (width)</option>
                        <option value="georgia_h">Georgia (height)</option>
                        <option value="helvetica">Helvetica</option>
                        <option value="helvetica_x">Helvetica (x-height)</option>
                        <option value="helvetica_w">Helvetica (width)</option>
                        <option value="helvetica_h">Helvetica (height)</option>
                        <option value="lato">Lato</option>
                        <option value="lato_x">Lato (x-height)</option>
                        <option value="lato_w">Lato (width)</option>
                        <option value="lato_h">Lato (height)</option>
                        <option value="montserrat">Montserrat</option>
                        <option value="montserrat_x">Montserrat (x-height)</option>
                        <option value="montserrat_w">Montserrat (width)</option>
                        <option value="montserrat_h">Montserrat (height)</option>
                        <option value="noto_sans">Noto Sans (height)</option>
                        <option value="noto_sans_x">Noto Sans (x-height)</option>
                        <option value="noto_sans_w">Noto Sans (width)</option>
                        <option value="noto_sans_h">Noto Sans (height)</option>
                        <option value="open_sans_h">Open Sans</option>
                        <option value="open_sans_x">Open Sans (x-height)</option>
                        <option value="open_sans_w">Open Sans (width)</option>
                        <option value="open_sans_h">Open Sans (height)</option>
                        <option value="oswald">Oswald</option>
                        <option value="oswald_x">Oswald (x-height)</option>
                        <option value="oswald_w">Oswald (width)</option>
                        <option value="oswald_h">Oswald (height)</option>
                        <option value="raleway">Raleway</option>
                        <option value="raleway_x">Raleway (x-height)</option>
                        <option value="raleway_w">Raleway (width)</option>
                        <option value="raleway_h">Raleway (height)</option>
                        <option value="poynter_gothic_text">Poynter Gothic Text</option>
                        <option value="poynter_gothic_text_x">Poynter Gothic Text (x-height)</option>
                        <option value="poynter_gothic_text_w">Poynter Gothic Text (width)</option>
                        <option value="poynter_gothic_text_h">Poynter Gothic Text (height)</option>
                        <option value="roboto">Roboto</option>
                        <option value="roboto_x">Roboto (x-height)</option>
                        <option value="roboto_w">Roboto (width)</option>
                        <option value="roboto_h">Roboto (height)</option>
                        <option value="source_sans">Source Sans Pro</option>
                        <option value="source_sans_x">Source Sans Pro (x-height)</option>
                        <option value="source_sans_w">Source Sans Pro (width)</option>
                        <option value="source_sans_h">Source Sans Pro (height)</option>
                        <option value="times">Times (Control)</option>
                        <option value="utopia">Utopia</option>
                        <option value="utopia_x">Utopia (x-height)</option>
                        <option value="utopia_w">Utopia (width)</option>
                        <option value="utopia_h">Utopia (height)</option>
                        <option value="verdana">Verdana</option>
                        <option value="verdana_x">Verdana (x-height)</option>
                        <option value="verdana_w">Verdana (width)</option>
                        <option value="verdana_h">Verdana (height)</option>
                    </select>
                </div>
                <br>
                <button id="toggle" class="toggle row button is-large" onclick="toggleFont()"><span class="icon"><i class="fas fa-arrows-alt-h" style="margin-right:.25em"></i> Toggle Font Choice</span></button>
                <br>
                <button id="toggle" class="toggle row button is-large" onclick="nextFont()"><span class="icon"><i class="fas fa-arrow-right" style="margin-right:.25em"></i> Next Font Choice</span></button>
                <br>
                <button id="toggle" class="toggle row button is-large" onclick="toggleFontControl()"><span class="icon"><i class="fas fa-arrows-alt-h" style="margin-right:.25em"></i> Compare with Control Font</span></button>
                <br>
                <button id="toggle" class="toggle row button is-large" onclick="toggleText()"><span class="icon"><i class="fas fa-sync-alt" style="margin-right:.25em"></i> Cycle Text Choice</span></button>
            </div>
        </div>
    </body>

    <script>
        let device = get_device()
        
        let toggle_icon = "<span class='icon'><i class='fas fa-home'></i></span>"
        let choice_enabled_text  = "<span class='icon'></span><i class='far fa-thumbs-up' style='margin-right:.25em'></i>I prefer the current font</span>"
        let choice_disabled_text = "<span class='icon'></span><i class='far fa-thumbs-up' style='margin-right:.25em'></i>Please toggle the font first</span>"

        let reading_class = 'reading ' // sw - space is intentional
        let font_a = 'arial'
        let font_b = 'times'
        let font_a_views = 0
        let font_b_views = 0
        
        let fonts = {
            'times':{font:'Times',fact:', ‘is solid, formal, and simple. It is popular for newspapers, magazines, and corporate documents. Fashion brands that use this font include Gucci and Burberry.'}, 
            'arial':{font:'Arial',fact:'is round and soft. It was a standard Microsoft font for a while and can be found everywhere, from signage to magazines, and UPS. Fashion brands that use this font include Tommy Hilfiger and Dior.'},
            'calibri':{font:'Calibri',fact:'is warm, soft, and rounded. It is the default typeface of Microsoft Office and much other Microsoft software. This font was at the center of a political scandal in Pakistan in 2017!'},
            'roboto':{font:'Roboto',fact:'has straight-sided capitals and distinctive racetrack-shaped rounded letters. It was developed by Google as the system font for Android.'},
            'open_sans':{font:'Open Sans',fact:'is open and friendly. It is a popular modern web font used frequently by Google and on more than 20 million websites.'},
            'lato':{font:'Lato',fact:'is described by its designer as “male and female, serious but friendly”. It is a popular web font used by over 12 thousand websites.'},
            'avantgarde':{font:'Avant Garde',fact:'\’s design is inspired by geometric shapes, like near-perfect circles and squares. It is a font family based on the logo font used in the Avant Garde magazine. Also, the Netflix TV series, Master of None, famously used the font for its title cards.'},
            'system':{font:'System Font',fact:'everyone has a system font on their computer. Imagine how much reading you do per day with your system font?'},
            'montserrat':{font:'Montserrat',fact:'is geometric and elegant. It was inspired by the signage found in a historic neighborhood of Buenos Aires! Armani is a fashion brand that uses this font.'},
            'noto_sans':{font:'Noto Sans',fact:'family of fonts were designed to be used across many languages for computers. All possible characters are present, so no missing letterboxes commonly referred to as \"tofu\" will be rendered. In fact, Noto is short for \"No mOre TOfu.\"'},
            'poynter_gothic_text':{font:'Poynter Gothic Text',fact:'is classical, balanced, and light. It is a print font that is good for reading newspapers.'},
            'helvetica':{font:'Helvetica',fact:'is dense, solid, and neutral. It is used for all the lettering on the New York subway signage and many U.S. government forms. A fashion brand that uses this font is American Apparel.'},
            'garamond':{font:'Garamond',fact:'is classic, elegant, and has an old-style look. It is used in the Harry Potter and Dr. Seuss books, and by the fashion brand Abercrombie &amp; Fitch.'},
            'oswald':{font:'Oswald',fact:'is informal, bold, and modern. It is a popular web font used for conferences, events, and portfolios.'},
            'franklin_gothic':{font:'Franklin Gothic',fact:'is solid and important. It is considered a standard in the newspaper and advertising fields. It is the official typeface of the MOMA in New York City, and has been used for subtitles for “Star Wars”, and for logos for TNT, ESPN, and CBS Sports.'},
            'utopia':{font:'Utopia',fact:', is solid, professional, classical. It is commonly used in advertising, newspaper, and book publishing.'}
        }

        let font_choices = Object.keys(fonts)

        let text_choices = ['Home at Mount Vernon the candles in the windows of George Washington’s home at Mount Vernon shone brightly on Christmas Eve. This Christmas Eve, though, was different. One month earlier the United States and Great Britain had signed a peace treaty ending the Revolutionary War. It was Christmastime when George Washington returned to his home. He was no longer the commander of the Continental Army. Soon after, at a dinner in New York, General Washington',
                            'said his goodbyes to his fellow officers. Later he presented Congress with his resignation as commander in chief of the Continental Army. His work was done, he told the Congress. He was retiring from public life forever—from the army, from government, from all the duties that America had called on him to do. Washington set an example for laying down his sword and surrendering his military authority to the people and the republic that represented them.',
                            'He had done something no one else in history had done. King George III said that if he did that, “He would be the greatest man in the world.” Americans called Washington the “Father of His Country.” They had a great deal of respect for their general. Some called him “Cincinnatus,” after the legendary Roman general. Cincinnatus was given power by the Roman republic and then surrendered it. This was perhaps George Washington’s greatest contribution',
                            'to the founding of America. Now, after nearly nine years of service to his country, Washington was free to return to his beloved Mount Vernon. As he rode up the circular drive to Mount Vernon that Christmas Eve, his wife, Martha, waited in the doorway to welcome him. At last, America’s hero was home. When Washington told Congress he was leaving public life forever, he meant it. Have you ever noticed, though, how sometimes things',
                            'happen that make you take back words like forever, never, and always? That is what happened to George Washington. First, Virginia asked him to serve as one of the state’s delegates to the Constitutional Convention in Philadelphia. How could Washington say no? He had fought to give life to the young nation. But for the last four years, he could only watch helplessly as it struggled under the Articles of Confederation. He could not turn',
                            'his back on his country. He had to take back that forever. He had to serve. Then, the delegates to the Constitutional Convention gathered in Philadelphia in 1787. They needed a strong, steady leader to get them through the hard work ahead. They turned to George Washington to serve as chairman of the convention. Again, Washington agreed to serve. As expected, he was everyone’s choice to be the nation’s first president. Once again, he knew',
                            'he could not say no. Forever would have to wait. He would serve the republic again to make sure the new nation got off to a good start. On April 16, Washington said goodbye to Mount Vernon once again and set out for New York, the nation’s temporary capital. There his inauguration would take place. An inauguration is a formal ceremony at the start of a term of office. The trip from Mount Vernon to',
                            'New York City took far longer than Washington expected. In every village and town he traveled through, he had to attend speeches, parades, and dinners in his honor. Citizens lined the streets to cheer as his carriage passed by. On the country roads, men on horseback rode in front of, behind, and alongside Washington’s carriage. The traffic filled the country air with dust as the journey became one long parade. After eight days, Washington finally arrived',
                            'in New York. Inauguration Day—April 30, 1789—dawned bright and sunny in New York City. A crowd of thousands assembled in front of the building known as Federal Hall. Shortly after noon, George Washington and a small group of officials stepped out on the balcony. Placing his hand on a Bible, Washington repeated the oath of office official to obey the law and fulfill the written in the new Constitution: “I do responsibilities of the office',
                            'of President of the United States, and will to the best of my ability, preserve, protect, and defend the Constitution of the United States.” Because there were no loudspeakers in 1789, few people on the street below could hear the words. Nevertheless, they knew they had witnessed a historic moment. After Washington spoke the final words of the oath, an official called out, “Long live George Washington, President of the United States!” The crowd cheered wildly.']

        function get_device() {
            info = new UAParser()
            return info.getBrowser().name + '|*|' + info.getOS().name + '|*|' + info.getDevice().type
        }

        function forceScreenSize() {
            document.body.style.zoom = (window.innerWidth / window.outerWidth)
            //log(window.innerWidth / window.outerWidth)
        }

        function set_font() {
            //document.getElementById('wspan').className    = font_choice + font_control
            document.getElementById('reading').className  = reading_class + font_choice + font_control
            document.getElementById("current_font").value = font_choice + font_control

            //document.getElementById('wspan_width').innerHTML = document.getElementById('wspan').offsetWidth
        }

        let font_control = '' // normal = ''
        function dropDownChangeControl(event) {
            font_control = event.value
            set_font()
        }

        function dropDownChange(event) {
            font_choice_prev = font_choice
            font_choice = event.value
            set_font()
        }

        //let fonts_list = ["times", "arial", "calibri", "roboto", "open_sans", "lato", "avantgarde", "montserrat", "noto_sans", "poynter_gothic_text", "helvetica", "garamond", "oswald", "franklin_gothic", "utopia", "comic_sans", "georgia", "raleway", "source_sans", "verdana"]
        let fonts_list = ['arial','arial_x','arial_w','arial_h','avantgarde','avantgarde_x','avantgarde_w','avantgarde_h','system','system_x','system_w','system_h','calibri','calibri_x','calibri_w','calibri_h','comic_sans','comic_sans_x','comic_sans_w','comic_sans_h','franklin_gothic','franklin_gothic_x','franklin_gothic_w','franklin_gothic_h','garamond','garamond_x','garamond_w','garamond_h','georgia','georgia_x','georgia_w','georgia_h','helvetica','helvetica_x','helvetica_w','helvetica_h','lato','lato_x','lato_w','lato_h','montserrat','montserrat_x','montserrat_w','montserrat_h','noto_sans','noto_sans_x','noto_sans_w','noto_sans_x','open_sans_h','open_sans_x','open_sans_w','open_sans_h','oswald','oswald_x','oswald_w','oswald_h','raleway','raleway_x','raleway_w','raleway_h','poynter_gothic_text','poynter_gothic_text_x','poynter_gothic_text_w','poynter_gothic_text_h','roboto','roboto_x','roboto_w','roboto_h','source_sans','source_sans_x','source_sans_w','source_sans_h','times','utopia','utopia_x','utopia_w','utopia_h','verdana','verdana_x','verdana_w','verdana_h']
        //fonts_list.sort()
        let font_choice = 'arial'
        let font_choice_prev = 'times'
        function toggleFont() {
            temp = font_choice_prev
            font_choice_prev = font_choice
            font_choice = temp
            set_font()
        }

        function toggleFontControl() {
            if(font_choice === 'times') {
                font_choice = font_choice_prev
                font_choice_prev = 'times'
                
            } else {
                font_choice_prev = font_choice
                font_choice = 'times'
            }
            
            set_font()
        }

        function nextFont() {
            i = 0
            fonts_list.forEach(f => {
                if(f === font_choice) {
                    if(i === (fonts_list.length-1)) {
                        next_font = fonts_list[0]
                    } else {
                        next_font = fonts_list[i+1]
                    }
                }
                i++
            });
            font_choice_prev = font_choice
            font_choice = next_font
            set_font()
        }
        
        i = 0
        function toggleText() {
            i++
            if(i > 9) {
                i = 0
            }
            document.getElementById('reading').innerHTML = text_choices[i]
        }
        
        function random_bool() {
            if(Math.floor(Math.random() + (2 - 0) + 0) === 1) {
                return true
            } else {
                return false
            }
        }

        function shuffle(array) {
            var ele = array.length, t, i
            // While there remain elements to shuffle…
            while (ele) {
                // Pick a remaining element…
                i = Math.floor(Math.random() * ele--)
                // And swap it with the current element.
                t = array[ele]
                array[ele] = array[i]
                array[i] = t
            }
            return array
        }

        function log(str) {
            console.log(str)
        }
    </script>
</html>